{"version":3,"file":"4-DGjCAl8t.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/demo/lucia/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/4.js"],"sourcesContent":["import { i as invalidateSession, d as deleteSessionTokenCookie } from \"../../../../chunks/auth.js\";\nimport { fail, redirect } from \"@sveltejs/kit\";\nimport { getRequestEvent } from \"@sveltejs/kit/internal/server\";\nimport \"../../../../chunks/utils.js\";\nimport \"../../../../chunks/query.js\";\nconst load = async () => {\n  const user = requireLogin();\n  return { user };\n};\nconst actions = {\n  logout: async (event) => {\n    if (!event.locals.session) {\n      return fail(401);\n    }\n    await invalidateSession(event.locals.session.id);\n    deleteSessionTokenCookie(event);\n    return redirect(302, \"/demo/lucia/login\");\n  }\n};\nfunction requireLogin() {\n  const { locals } = getRequestEvent();\n  if (!locals.user) {\n    return redirect(302, \"/demo/lucia/login\");\n  }\n  return locals.user;\n}\nexport {\n  actions,\n  load\n};\n","import * as server from '../entries/pages/demo/lucia/_page.server.ts.js';\n\nexport const index = 4;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/demo/lucia/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/demo/lucia/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/4.WqHhPp8L.js\",\"_app/immutable/chunks/DsnmJJEf.js\",\"_app/immutable/chunks/CP5tR_5M.js\",\"_app/immutable/chunks/BS-UehVV.js\",\"_app/immutable/chunks/BEyCoWCH.js\",\"_app/immutable/chunks/CPt4mp5l.js\",\"_app/immutable/chunks/BlOL-Os8.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n"],"names":[],"mappings":";;;;;AAKA,MAAM,IAAI,GAAG,YAAY;AACzB,EAAE,MAAM,IAAI,GAAG,YAAY,EAAE;AAC7B,EAAE,OAAO,EAAE,IAAI,EAAE;AACjB,CAAC;AACD,MAAM,OAAO,GAAG;AAChB,EAAE,MAAM,EAAE,OAAO,KAAK,KAAK;AAC3B,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE;AAC/B,MAAM,OAAO,IAAI,CAAC,GAAG,CAAC;AACtB,IAAI;AACJ,IAAI,MAAM,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC;AACpD,IAAI,wBAAwB,CAAC,KAAK,CAAC;AACnC,IAAI,OAAO,QAAQ,CAAC,GAAG,EAAE,mBAAmB,CAAC;AAC7C,EAAE;AACF,CAAC;AACD,SAAS,YAAY,GAAG;AACxB,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,eAAe,EAAE;AACtC,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;AACpB,IAAI,OAAO,QAAQ,CAAC,GAAG,EAAE,mBAAmB,CAAC;AAC7C,EAAE;AACF,EAAE,OAAO,MAAM,CAAC,IAAI;AACpB;;;;;;;;ACvBY,MAAC,KAAK,GAAG;AACrB,IAAI,eAAe;AACP,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,4BAA6C,CAAC,EAAE;AAE3G,MAAC,SAAS,GAAG;AACb,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC;AACxQ,MAAC,WAAW,GAAG;AACf,MAAC,KAAK,GAAG;;;;"}